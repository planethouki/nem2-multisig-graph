(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1528:function(t,e,o){"use strict";o.r(e);o(4),o(32);const n=t=>Math.max(t.offsetHeight,t.scrollHeight);class r{constructor(t={}){const e={content:t.viewport.children[0],direction:"all",pointerMode:"all",scrollMode:void 0,bounce:!0,bounceForce:.1,friction:.05,textSelection:!1,inputsFocus:!0,emulateScroll:!1,pointerDownPreventDefault:!0,onClick(){},onUpdate(){},shouldScroll:()=>!0};if(this.props={...e,...t},!(this.props.viewport&&this.props.viewport instanceof Element))return void console.error('ScrollBooster init error: "viewport" config property must be present and must be Element');if(!this.props.content)return void console.error("ScrollBooster init error: Viewport does not have any content");this.isDragging=!1,this.isTargetScroll=!1,this.isScrolling=!1,this.isRunning=!1;const o={x:0,y:0};this.position={...o},this.velocity={...o},this.dragStartPosition={...o},this.dragOffset={...o},this.dragPosition={...o},this.targetPosition={...o},this.scrollOffset={...o},this.rafID=null,this.events={},this.updateMetrics(),this.handleEvents()}updateOptions(t={}){this.props={...this.props,...t},this.props.onUpdate(this.getState()),this.startAnimationLoop()}updateMetrics(){var t;this.viewport={width:this.props.viewport.clientWidth,height:this.props.viewport.clientHeight},this.content={width:(t=this.props.content,Math.max(t.offsetWidth,t.scrollWidth)),height:n(this.props.content)},this.edgeX={from:Math.min(-this.content.width+this.viewport.width,0),to:0},this.edgeY={from:Math.min(-this.content.height+this.viewport.height,0),to:0},this.props.onUpdate(this.getState()),this.startAnimationLoop()}startAnimationLoop(){this.isRunning=!0,cancelAnimationFrame(this.rafID),this.rafID=requestAnimationFrame((()=>this.animate()))}animate(){if(!this.isRunning)return;this.updateScrollPosition(),this.isMoving()||(this.isRunning=!1,this.isTargetScroll=!1);const t=this.getState();this.setContentPosition(t),this.props.onUpdate(t),this.rafID=requestAnimationFrame((()=>this.animate()))}updateScrollPosition(){this.applyEdgeForce(),this.applyDragForce(),this.applyScrollForce(),this.applyTargetForce();const t=1-this.props.friction;this.velocity.x*=t,this.velocity.y*=t,"vertical"!==this.props.direction&&(this.position.x+=this.velocity.x),"horizontal"!==this.props.direction&&(this.position.y+=this.velocity.y),this.props.bounce&&!this.isScrolling||this.isTargetScroll||(this.position.x=Math.max(Math.min(this.position.x,this.edgeX.to),this.edgeX.from),this.position.y=Math.max(Math.min(this.position.y,this.edgeY.to),this.edgeY.from))}applyForce(t){this.velocity.x+=t.x,this.velocity.y+=t.y}applyEdgeForce(){if(!this.props.bounce||this.isDragging)return;const t=this.position.x<this.edgeX.from,e=this.position.x>this.edgeX.to,o=this.position.y<this.edgeY.from,n=this.position.y>this.edgeY.to,r=t||e,l=o||n;if(!r&&!l)return;const h=t?this.edgeX.from:this.edgeX.to,c=o?this.edgeY.from:this.edgeY.to,d=h-this.position.x,v=c-this.position.y,m={x:d*this.props.bounceForce,y:v*this.props.bounceForce},f=this.position.x+(this.velocity.x+m.x)/this.props.friction,y=this.position.y+(this.velocity.y+m.y)/this.props.friction;(t&&f>=this.edgeX.from||e&&f<=this.edgeX.to)&&(m.x=d*this.props.bounceForce-this.velocity.x),(o&&y>=this.edgeY.from||n&&y<=this.edgeY.to)&&(m.y=v*this.props.bounceForce-this.velocity.y),this.applyForce({x:r?m.x:0,y:l?m.y:0})}applyDragForce(){if(!this.isDragging)return;const t=this.dragPosition.x-this.position.x,e=this.dragPosition.y-this.position.y;this.applyForce({x:t-this.velocity.x,y:e-this.velocity.y})}applyScrollForce(){this.isScrolling&&(this.applyForce({x:this.scrollOffset.x-this.velocity.x,y:this.scrollOffset.y-this.velocity.y}),this.scrollOffset.x=0,this.scrollOffset.y=0)}applyTargetForce(){this.isTargetScroll&&this.applyForce({x:.08*(this.targetPosition.x-this.position.x)-this.velocity.x,y:.08*(this.targetPosition.y-this.position.y)-this.velocity.y})}isMoving(){return this.isDragging||this.isScrolling||Math.abs(this.velocity.x)>=.01||Math.abs(this.velocity.y)>=.01}scrollTo(t={}){this.isTargetScroll=!0,this.targetPosition.x=-t.x||0,this.targetPosition.y=-t.y||0,this.startAnimationLoop()}setPosition(t={}){this.velocity.x=0,this.velocity.y=0,this.position.x=-t.x||0,this.position.y=-t.y||0,this.startAnimationLoop()}getState(){return{isMoving:this.isMoving(),isDragging:!(!this.dragOffset.x&&!this.dragOffset.y),position:{x:-this.position.x,y:-this.position.y},dragOffset:this.dragOffset,borderCollision:{left:this.position.x>=this.edgeX.to,right:this.position.x<=this.edgeX.from,top:this.position.y>=this.edgeY.to,bottom:this.position.y<=this.edgeY.from}}}setContentPosition(t){"transform"===this.props.scrollMode&&(this.props.content.style.transform=`translate(${-t.position.x}px, ${-t.position.y}px)`),"native"===this.props.scrollMode&&(this.props.viewport.scrollTop=t.position.y,this.props.viewport.scrollLeft=t.position.x)}handleEvents(){const t={x:0,y:0};let e=null,o=!1;const n=e=>{if(!this.isDragging)return;const n=o?e.touches[0].pageX:e.pageX,r=o?e.touches[0].pageY:e.pageY;this.dragOffset.x=n-t.x,this.dragOffset.y=r-t.y,this.dragPosition.x=this.dragStartPosition.x+this.dragOffset.x,this.dragPosition.y=this.dragStartPosition.y+this.dragOffset.y};this.events.pointerdown=e=>{o=!(!e.touches||!e.touches[0]);const r=o?e.touches[0]:e,{pageX:l,pageY:h,clientX:c,clientY:d}=r,{viewport:v}=this.props,rect=v.getBoundingClientRect();if(c-rect.left>=v.clientLeft+v.clientWidth)return;if(d-rect.top>=v.clientTop+v.clientHeight)return;if(!this.props.shouldScroll(this.getState(),e))return;if(2===e.button)return;if("mouse"===this.props.pointerMode&&o)return;if("touch"===this.props.pointerMode&&!o)return;if(!(this.props.inputsFocus&&["input","textarea","button","select","label"].indexOf(e.target.nodeName.toLowerCase())>-1)){if(this.props.textSelection){if(((element,t,e)=>{const o=element.childNodes,n=document.createRange();for(let i=0;i<o.length;i++){const r=o[i];if(3!==r.nodeType)continue;n.selectNodeContents(r);const rect=n.getBoundingClientRect();if(t>=rect.left&&e>=rect.top&&t<=rect.right&&e<=rect.bottom)return r}return!1})(e.target,c,d))return;(()=>{const t=window.getSelection?window.getSelection():document.selection;t&&(t.removeAllRanges?t.removeAllRanges():t.empty&&t.empty())})()}this.isDragging=!0,t.x=l,t.y=h,this.dragStartPosition.x=this.position.x,this.dragStartPosition.y=this.position.y,n(e),this.startAnimationLoop(),this.props.pointerDownPreventDefault&&e.preventDefault()}},this.events.pointermove=t=>{n(t)},this.events.pointerup=()=>{this.isDragging=!1},this.events.wheel=t=>{this.props.emulateScroll&&(this.velocity.x=0,this.velocity.y=0,this.isScrolling=!0,this.scrollOffset.x=-t.deltaX,this.scrollOffset.y=-t.deltaY,this.startAnimationLoop(),clearTimeout(e),e=setTimeout((()=>this.isScrolling=!1),80),t.preventDefault())},this.events.scroll=()=>{const{scrollLeft:t,scrollTop:e}=this.props.viewport;Math.abs(this.position.x+t)>3&&(this.position.x=-t,this.velocity.x=0),Math.abs(this.position.y+e)>3&&(this.position.y=-e,this.velocity.y=0)},this.events.click=t=>{const e=this.getState(),o="vertical"!==this.props.direction?e.dragOffset.x:0,n="horizontal"!==this.props.direction?e.dragOffset.y:0;Math.max(Math.abs(o),Math.abs(n))>5&&(t.preventDefault(),t.stopPropagation()),this.props.onClick(e,t)},this.events.contentLoad=()=>this.updateMetrics(),this.events.resize=()=>this.updateMetrics(),this.props.viewport.addEventListener("mousedown",this.events.pointerdown),this.props.viewport.addEventListener("touchstart",this.events.pointerdown),this.props.viewport.addEventListener("click",this.events.click),this.props.viewport.addEventListener("wheel",this.events.wheel),this.props.viewport.addEventListener("scroll",this.events.scroll),this.props.content.addEventListener("load",this.events.contentLoad,!0),window.addEventListener("mousemove",this.events.pointermove),window.addEventListener("touchmove",this.events.pointermove),window.addEventListener("mouseup",this.events.pointerup),window.addEventListener("touchend",this.events.pointerup),window.addEventListener("resize",this.events.resize)}destroy(){this.props.viewport.removeEventListener("mousedown",this.events.pointerdown),this.props.viewport.removeEventListener("touchstart",this.events.pointerdown),this.props.viewport.removeEventListener("click",this.events.click),this.props.viewport.removeEventListener("wheel",this.events.wheel),this.props.viewport.removeEventListener("scroll",this.events.scroll),this.props.content.removeEventListener("load",this.events.contentLoad),window.removeEventListener("mousemove",this.events.pointermove),window.removeEventListener("touchmove",this.events.pointermove),window.removeEventListener("mouseup",this.events.pointerup),window.removeEventListener("touchend",this.events.pointerup),window.removeEventListener("resize",this.events.resize)}}var l={components:{},data:function(){return{accountData:[],inputAccount:"",ready:!1,errorMessage:"",scrollBooster:null,selectedElementIndex:null,tried:!1}},watch:{$route:function(t){this.inputAccount=this.$route.query.account,this.clickHandler()}},mounted:function(){var t=this;this.inputAccount=this.$route.query.account,google.charts.load("current",{packages:["orgchart"]}),google.charts.setOnLoadCallback((function(){t.ready=!0,t.clickHandler()}))},methods:{clickHandler:function(){var t=this;this.errorMessage="",this.selectedElementIndex=null,this.accountData=[],this.clearScrollBooster();var e,o=this.inputAccount.replace(/-/g,"").replace(/^0x/,"");return this.$graphUtil.getGraph(o).then((function(o){return e=t.$graphUtil.getSelfAddressPlain(o),t.$graphUtil.generateAccountData(o)})).then((function(e){t.accountData=e})).catch((function(e){t.errorMessage=e.message})).finally((function(){var o=t.$graphUtil.generateChartData(t.accountData,e),n=t.$refs.chart_div;t.drawGraph(o,n),t.updateScrollBooster(),t.tried=!0}))},drawGraph:function(t,e){var o=this,data=new google.visualization.DataTable;data.addColumn("string","Account"),data.addColumn("string","ParentAccount"),data.addColumn("string","ToolTip"),data.addRows(t);var n=new google.visualization.OrgChart(e);n.draw(data,{allowHtml:!0,nodeClass:"myNodeClass",selectedNodeClass:"mySelectedNodeClass"}),google.visualization.events.addListener(n,"select",(function(){n.getSelection().length>0?o.selectedElementIndex=n.getSelection()[0].row:o.selectedElementIndex=null}))},clearScrollBooster:function(){null!==this.scrollBooster&&this.scrollBooster.destroy()},updateScrollBooster:function(){var t=this.$refs.chart_div,content=t.querySelector(".google-visualization-orgchart-table");this.scrollBooster=new r({viewport:t,content:content,mode:"x",onUpdate:function(data){t.scrollLeft=data.position.x}})}}},h=o(182),component=Object(h.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-fluid"},[o("div",{ref:"chart_div",attrs:{id:"chart_div"}}),t._v(" "),t.errorMessage?o("div",{staticClass:"alert alert-warning my-5",attrs:{role:"alert"}},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]):t._e(),t._v(" "),t.tried?null===t.selectedElementIndex?o("div",[t._m(0)]):o("div",[o("ul",{staticClass:"list-group list-group-dl"},[o("li",{staticClass:"list-group-item"},[o("span",{staticClass:"title"},[t._v("Address")]),t._v(" "),o("span",{staticClass:"text"},[t._v("\n          "+t._s(t.accountData[t.selectedElementIndex].accountAddressPlain)+"\n        ")])]),t._v(" "),o("li",{staticClass:"list-group-item"},[o("span",{staticClass:"title"},[t._v("Min Removal")]),t._v(" "),o("span",{staticClass:"text"},[t._v("\n          "+t._s(t.accountData[t.selectedElementIndex].minRemoval)+"\n        ")])]),t._v(" "),o("li",{staticClass:"list-group-item"},[o("span",{staticClass:"title"},[t._v("Min Approval")]),t._v(" "),o("span",{staticClass:"text"},[t._v("\n          "+t._s(t.accountData[t.selectedElementIndex].minApproval)+"\n        ")])]),t._v(" "),o("li",{staticClass:"list-group-item"},[o("span",{staticClass:"title"},[t._v("Cosignatory Address")]),t._v(" "),o("span",{staticClass:"text"},[t.accountData[t.selectedElementIndex].cosignatoryAddresses.length?t._l(t.accountData[t.selectedElementIndex].cosignatoryAddresses,(function(p){return o("span",{key:p,staticClass:"d-block"},[t._v("\n              "+t._s(t.$graphUtil.hexAddressToPlain(p))+"\n            ")])})):[t._v(" - ")]],2)]),t._v(" "),o("li",{staticClass:"list-group-item"},[o("span",{staticClass:"title"},[t._v("Multisig Address")]),t._v(" "),o("span",{staticClass:"text"},[t.accountData[t.selectedElementIndex].cosignatoryAddresses.length?t._l(t.accountData[t.selectedElementIndex].cosignatoryAddresses,(function(p){return o("span",{key:p,staticClass:"d-block"},[t._v("\n              "+t._s(t.$graphUtil.hexAddressToPlain(p))+"\n            ")])})):[t._v(" - ")]],2)])])]):o("div")])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"list-group list-group-dl"},[o("li",{staticClass:"list-group-item"},[o("span",{staticClass:"title"},[t._v("Address")]),t._v(" "),o("span",{staticClass:"text"},[t._v("-")])]),t._v(" "),o("li",{staticClass:"list-group-item"},[o("span",{staticClass:"title"},[t._v("Min Removal")]),t._v(" "),o("span",{staticClass:"text"},[t._v("-")])]),t._v(" "),o("li",{staticClass:"list-group-item"},[o("span",{staticClass:"title"},[t._v("Min Approval")]),t._v(" "),o("span",{staticClass:"text"},[t._v("-")])]),t._v(" "),o("li",{staticClass:"list-group-item"},[o("span",{staticClass:"title"},[t._v("Cosignatory Address")]),t._v(" "),o("span",{staticClass:"text"},[t._v("-")])]),t._v(" "),o("li",{staticClass:"list-group-item"},[o("span",{staticClass:"title"},[t._v("Multisig Address")]),t._v(" "),o("span",{staticClass:"text"},[t._v("-")])])])}],!1,null,null,null);e.default=component.exports}}]);